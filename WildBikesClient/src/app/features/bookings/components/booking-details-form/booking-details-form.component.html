<form [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup.value)" class="form">
  <mat-form-field class="element">
    <mat-label>First name</mat-label>
    <input matInput placeholder="First name" formControlName="firstName">
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Last name</mat-label>
    <input matInput placeholder="Last name" formControlName="lastName">
  </mat-form-field>

  <mat-form-field appearance="fill" class="element">
    <mat-label>Date range</mat-label>
    <mat-date-range-input [rangePicker]="picker">
      <input matStartDate formControlName="dateFrom" placeholder="Start date" (focus)="picker.open()"
        (click)="picker.open()">
      <input matEndDate formControlName="dateTo" placeholder="End date" (focus)="picker.open()" (click)="picker.open()">
    </mat-date-range-input>
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-date-range-picker #picker></mat-date-range-picker>
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Price</mat-label>
    <input type="number" inputmode="decimal" matInput placeholder="Price" formControlName="price">
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Passport</mat-label>
    <input matInput placeholder="Passport" formControlName="passport">
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>License number</mat-label>
    <input matInput placeholder="License number" formControlName="licenseNumber">
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Address</mat-label>
    <input matInput placeholder="Address" formControlName="address">
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Nationality</mat-label>
    <input matInput placeholder="Nationality" formControlName="nationality">
  </mat-form-field>

  <mat-form-field appearance="fill" class="element">
    <mat-label>Helmet</mat-label>
    <mat-select placeholder="Helmet" formControlName="helmet" required>
      <mat-option *ngFor="let helmet of helmets" [value]="helmet">
        {{helmet}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Bike</mat-label>
    <mat-select placeholder="Bike" formControlName="bike" (selectionChange)="onBikeSelectionChanged($event)">
      <mat-option>
        <ngx-mat-select-search 
          ngModel 
          [ngModelOptions]="{standalone: true}" 
          (ngModelChange)="onBikeFilterChanged($event)"
          placeholderLabel="Bike name" 
          noEntriesFoundLabel="No bikes found"
        ></ngx-mat-select-search>
      </mat-option>
      <mat-option *ngFor="let bike of bikes.data" [value]="bike">
        {{ bike.name }} {{ bike.number }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Bike name</mat-label>
    <input matInput placeholder="Bike name" formControlName="bikeName">
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Bike number</mat-label>
    <input matInput placeholder="Bike number" formControlName="bikeNumber">
  </mat-form-field>

  <mat-form-field class="element">
    <mat-label>Phone</mat-label>
    <input matInput placeholder="Phone" formControlName="phone">
  </mat-form-field>

  <div class="element space-around" *ngIf="booking">
    <mat-checkbox color="primary" [checked]="isSigned" (click)="$event.preventDefault()">
      Is signed
    </mat-checkbox>
    <mat-checkbox color="primary" formControlName="resetSignature">
      Reset signature
    </mat-checkbox>
  </div>

  <div class="element">
    <button mat-raised-button color="primary" type="submit" class="sbumit-button"
      [disabled]="!(formGroup.valid && formGroup.dirty)"
    >
      Save
    </button>
  </div>
</form>